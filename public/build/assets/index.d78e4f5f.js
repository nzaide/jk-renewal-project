let d=document.getElementsByClassName("delete-btn");for(let t of d)t.addEventListener("click",function(){document.getElementById("deleteForm").action=this.dataset.action});let r=document.getElementsByClassName("edit-btn");for(let t of r)t.addEventListener("click",function(){this.parentElement.parentElement.classList.add("d-none");let n="editFields"+this.dataset.id;document.getElementById(n).classList.remove("d-none")});const c=document.querySelector('meta[name="csrf-token"]').getAttribute("value");let m=document.getElementsByClassName("save-btn");for(let t of m)t.addEventListener("click",function(){let n=this.parentElement.parentElement,i=n.querySelectorAll("input"),l={};for(let e of i)l[e.name]=e.value;fetch("/admin/groups/"+this.dataset.id,{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":c,"X-Requested-With":"XMLHttpRequest"},body:JSON.stringify(l)}).then(e=>e.json()).then(e=>{if(e.errors){let o=n.getElementsByClassName("validation-msg");for(let s of o){s.innerHTML="";let a=e.errors[s.dataset.name];a&&(s.innerHTML=a[0])}}else window.location.reload()})});
