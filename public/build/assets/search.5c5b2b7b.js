import{f as i}from"./index.1d408ff0.js";import{c as F,i as w}from"./selection.86645f9d.js";import{a as P}from"./index.561c04ad.js";import"./jquery.31653bc4.js";const h=document.getElementById("birth-month-selector"),c=document.getElementById("birth-day-selector"),E=()=>{const e=new Date().getFullYear(),a=h.value,n=c.dataset.selected;if(c.querySelectorAll('option:not(option[value=""])').forEach(t=>t.remove()),a){let t=new Date(e,a,0).getDate();t===28&&t++;const o=document.createDocumentFragment();for(let r=1;r<=t;r++){const l=document.createElement("option");l.value=r,l.innerText=r,r==n&&(l.selected=!0),o.appendChild(l)}c.appendChild(o)}};document.addEventListener("DOMContentLoaded",()=>E());h.addEventListener("change",()=>E());c.addEventListener("change",()=>{c.dataset.selected=c.value});const f=document.getElementById("highest-degree-selector"),d=document.getElementById("education-level-selector"),D=async()=>{const e=f.value;d.querySelectorAll('option:not(option[value=""])').forEach(t=>t.remove());const a=await P.get("/admin/job-seekers/education-levels",{params:{highest_degree:e}}),n=document.createDocumentFragment();for(const t of a.data){const o=document.createElement("option");o.value=t.value,o.innerText=t.text,n.appendChild(o)}d.appendChild(n)};document.addEventListener("DOMContentLoaded",async()=>{await D(),d.value=d.dataset.selected});f.addEventListener("change",()=>D());const m=document.getElementById("reactivation-start-date-input"),u=document.getElementById("reactivation-end-date-input"),B=i(m,{dateFormat:"d-m-Y",defaultDate:m.value,maxDate:u.value,onChange:e=>{y.set("minDate",e[0]||null)}}),y=i(u,{dateFormat:"d-m-Y",defaultDate:u.value,minDate:m.value,onChange:e=>{B.set("maxDate",e[0]||null)}}),x=document.getElementById("search-form");x.addEventListener("reset",e=>(e.preventDefault(),B.clear(),y.clear(),!1));const p=document.getElementById("start-date-input"),v=document.getElementById("end-date-input"),k=i(p,{dateFormat:"d-m-Y",defaultDate:p.value,maxDate:v.value,onChange:e=>{I.set("minDate",e[0]||null)}}),I=i(v,{dateFormat:"d-m-Y",defaultDate:v.value,minDate:p.value,onChange:e=>{k.set("maxDate",e[0]||null)}}),Y=document.getElementById("search-form");Y.addEventListener("reset",e=>(e.preventDefault(),k.clear(),I.clear(),!1));let M=document.getElementsByClassName("remove-blacklist");for(let e of M)e.addEventListener("click",function(){document.getElementById("deleteBlacklistForm").action=this.dataset.action});let O=document.getElementsByClassName("add-blacklist");for(let e of O)e.addEventListener("click",function(){document.getElementById("markBlacklistForm").action=this.dataset.action});const L=document.getElementById("per-page-limiter"),S=document.getElementById("per-page-limiter-bottom");L.addEventListener("change",e=>{S.value=e.target.value,e.target.form.submit()});S.addEventListener("change",e=>{L.value=e.target.value,e.target.form.submit()});const s=document.getElementById("search-form");s.addEventListener("submit",()=>{F()});s.addEventListener("reset",e=>(e.preventDefault(),$(":input",s).val(null),$(".selectpicker",s).selectpicker("deselectAll"),!1));const g=document.getElementById("asp-state-indicator"),b=e=>{const a=new URLSearchParams(window.location.search);g.value=e,a.set(g.name,e);const n=window.location.pathname+"?"+a.toString();history.replaceState(null,"",n)},C=document.getElementById("advanced-search-panel");$(C).on("shown.bs.collapse",()=>{b(!0)});$(C).on("hidden.bs.collapse",()=>{b(!1)});w();const A="page-link-clicked";$(".page-link").on("click",()=>{sessionStorage.setItem(A,!0)});
